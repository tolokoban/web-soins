<?php
/**
   First step:
   -----------
   Call tfw.Install("cameroun_").
   If the result is 0, everything is already installed.
   Otherwise, we receive a token which last the time of the HTTP session.

   Second step:
   ------------
   Call tfw.Install({
   token: "HCHERBBHEC",
   host: "127.0.0.1",
   name: "database-name",
   dbUsr: "root",
   dbPwd: "database-password",
   usr: "Website-user",
   pwd: "user-password"
   })
   The prefix is own in the session, that's why we don't provide it again.
   Tee file "pri/install.sql" will be applyed to the database. This file is a MySQL file with these placeholders: "${PREFIX}"

   Here are the possible results :
 *  0: Installation done successfully.
 * -1: Unknown  token. This can  happend if the  user took too  long to
   supply information.  Just go  to the  first step  and you  will get
   another token. Be  aware that when you install  an application, the
   first one  to connect to the  website is the one  that will install
   the app. But it has to  know the Database connection information to
   succeed.
 * -2: Unknown host.
 * -3: Database not found.
 * -4: Invalid user name or password.
 * -5: Missing "pri/install.sql" file.
 */
function execService($args) {
    return makeToken();
}


function makeToken() {
    $token = md5(rand(1000000000, 9999999999));
    $_SESSION["token"] = $token;
    return $token;
}
?>
